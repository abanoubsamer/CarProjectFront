<div class="container">
  <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« -->
  <div class="row g-3 row-cols-1 row-cols-md-2 row-cols-lg-3">
    <div class="col">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>ğŸ” Order</mat-label>
        <input matInput type="text" (keyup)="search($event.target)" />
        <mat-icon matSuffix>category</mat-icon>
      </mat-form-field>
    </div>

    <div class="col">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>âš¡ Status</mat-label>
        <mat-select (selectionChange)="SelectStatus($event)">
          <mat-option value=""> âš¡ Status... </mat-option>
          @for(status of Status ; track status.value){
          <mat-option [value]="status.value">
            {{ status.name }}
          </mat-option>
          }
        </mat-select>
        <mat-icon matSuffix>check_circle</mat-icon>
      </mat-form-field>
    </div>

    <div class="col">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>ğŸ•’ Choose Date Range</mat-label>
        <mat-date-range-input [rangePicker]="picker">
          <input
            matStartDate
            placeholder="From date"
            name="startDate"
            (dateChange)="SelectDate($event, 'fromDate')"
          />
          <input
            matEndDate
            placeholder="To date"
            name="endDate"
            (dateChange)="SelectDate($event, 'toDate')"
          />
        </mat-date-range-input>
        <mat-datepicker-toggle
          matIconSuffix
          [for]="picker"
        ></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
      </mat-form-field>
    </div>
  </div>

  <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª -->
  <ngx-datatable
    class="material"
    [rows]="Orders"
    [rowHeight]="'auto'"
    [headerHeight]="50"
    [columnMode]="'force'"
    [footerHeight]="50"
    [limit]="page.limit"
    [count]="page.count"
    [scrollbarH]="true"
    [offset]="page.pageNumber - 1"
    [externalPaging]="true"
    [pagination]="true"
    (page)="onPageChange($event)"
  >
    <ngx-datatable-column name="#" prop="orderID"></ngx-datatable-column>
    <ngx-datatable-column
      name="ğŸ“Œ Ø§Ù„Ø¹Ù…ÙŠÙ„"
      prop="user.email"
    ></ngx-datatable-column>
    <ngx-datatable-column
      name="ğŸ›’ Ø§Ù„Ù…Ù†ØªØ¬"
      prop="product.name"
    ></ngx-datatable-column>
    <ngx-datatable-column name="ğŸ›’ ÙƒÙ…ÙŠÙ‡" prop="quantity"></ngx-datatable-column>
    <ngx-datatable-column name="ğŸ“¦ Ø§Ù„Ø­Ø§Ù„Ø©">
      <ng-template let-row="row" ngx-datatable-cell-template>
        <span class="status-badge" [ngClass]="getStatusClass(+row.status)">
          {{ getStatus(row.status) }}
        </span>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="âš¡ ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©">
      <ng-template let-row="row" ngx-datatable-cell-template>
        <select
          [(ngModel)]="row.status"
          (change)="changeOrderState(row, row.status)"
          class="status-select"
        >
          <option value="0">ğŸ•’ Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</option>
          <option value="1">ğŸ“¦ ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯</option>
          <option value="2">ğŸšš ØªÙ… Ø§Ù„Ø´Ø­Ù†</option>
          <option value="3">âœ… ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…</option>
          <option value="4">âŒ ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡</option>
        </select>
      </ng-template>
    </ngx-datatable-column>

    <!-- ğŸ” Ø¹Ù…ÙˆØ¯ Ø²Ø± Ø§Ù„ØªÙØ§ØµÙŠÙ„ -->
    <ngx-datatable-column name="ğŸ” Ø§Ù„ØªÙØ§ØµÙŠÙ„">
      <ng-template let-row="row" ngx-datatable-cell-template>
        <button (click)="openDialog('300ms', '150ms', row)" class="details-btn">
          ğŸ“„ Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
        </button>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>

  <!-- Ø±Ø³Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù†ØªØ§Ø¦Ø¬ -->
  <!-- <div *ngIf="rows.length === 0" class="no-results">
    ğŸš« Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ø­Ø«.
  </div> -->
</div>
